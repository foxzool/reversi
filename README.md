# Reversi (Othello) Game

基于最新Bevy 0.16引擎的黑白棋游戏实现，包含AI对手和完整的游戏界面。

## 功能特点

- **高效位板表示**: 使用64位整数表示棋盘状态，实现快速计算
- **智能AI对手**: 
  - Minimax算法配合Alpha-Beta剪枝
  - 多级难度设置（初级、中级、高级、专家）
  - 综合评估函数（角位控制、稳定性、行动力等）
- **现代游戏界面**: 基于Bevy引擎的2D渲染
- **事件驱动架构**: 使用ECS模式组织代码

## 项目结构

```
src/
├── game/           # 游戏核心逻辑
│   ├── board.rs    # 棋盘表示和基础操作
│   └── rules.rs    # 游戏规则和着法生成
├── ai/             # AI相关模块
│   ├── minimax.rs  # Minimax搜索算法
│   ├── evaluation.rs # 棋盘评估函数
│   └── difficulty.rs # AI难度级别
├── ui/             # 用户界面
│   ├── board_ui.rs # 棋盘渲染
│   └── game_ui.rs  # 游戏状态显示
└── main.rs         # 主程序入口
```

## 运行方式

### 测试基础功能
```bash
cargo run --example simple_test
```

### 运行完整游戏
```bash
cargo run
```

## 游戏操作

- 鼠标点击空白格子进行落子
- 黄色圆点表示可落子位置
- 左上角显示当前比分和游戏状态
- 黑棋先手，白棋为AI对手

### 键盘控制
- **1-4键**: 切换AI难度（初级、中级、高级、专家）
- **M键**: 开启/关闭音效
- **空格键/回车键**: 游戏结束后重新开始

### 音效系统
- **落子音效**: 每次成功落子时播放
- **翻转音效**: 棋子翻转时播放
- **胜利音效**: 玩家获胜时播放
- **失败音效**: 玩家失败时播放
- **错误音效**: 无效落子时播放
- 音效可通过M键开关，默认开启

## AI技术特点

### 算法实现
- **搜索深度**: 根据难度动态调整（2-12层）
- **时间控制**: 迭代加深搜索，带超时保护
- **并行计算**: 使用Rayon进行多线程搜索优化

### 评估函数
- **角位控制** (权重: 100): 占据角位获得稳定优势
- **稳定性** (权重: 50): 不可翻转棋子的价值
- **行动力** (权重: 30): 可用合法着法数量
- **位置价值** (权重: 20): 基于位置的静态评估
- **奇偶性** (权重: 10): 残局中的先手优势

### 难度级别
- **初级**: 深度2层，30%随机错误
- **中级**: 深度4层，15%错误率
- **高级**: 深度6层，5%错误率  
- **专家**: 深度12层，完美对弈

## 技术栈

- **Bevy 0.16**: 现代Rust游戏引擎
- **Rayon**: 并行计算框架
- **位运算优化**: 高效的棋盘状态计算

## 开发特色

- 完全遵循Bevy的ECS架构模式
- 事件驱动的游戏逻辑
- 异步AI计算，不阻塞主线程
- 模块化设计，易于扩展

## 性能指标

- **桌面端**: 10万-100万节点/秒搜索速度
- **内存使用**: 50-200MB
- **响应时间**: AI思考时间0.1-5秒（根据难度）

这个项目展示了如何将传统游戏AI算法与现代Rust游戏引擎完美结合，创造出高性能、可扩展的游戏应用。